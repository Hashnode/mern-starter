webpackJsonp([4],{519:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,a,o){var r=t&&t.defaultProps,s=arguments.length-3;if(n||0===s||(n={}),n&&r)for(var i in r)void 0===n[i]&&(n[i]=r[i]);else n||(n=r||{});if(1===s)n.children=o;else if(s>1){for(var u=Array(s),d=0;d<s;d++)u[d]=arguments[d+3];n.children=u}return{$$typeof:e,type:t,key:void 0===a?null:""+a,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=n(6),l=(a(d),n(79)),c=n(543),f=a(c),h=n(706),p=a(h),v=n(120),m=a(v),y=n(573),g=a(y),b=i("h2",{},void 0,"Add User"),_=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.save=n.save.bind(n),n.change=n.change.bind(n),n.changeGroup=n.changeGroup.bind(n);var a=n.props.location.state.user;return a.team=(0,g.default)(a.team,"_id"),n.state={user:a,teams:[]},n}return s(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this;(0,m.default)("teams","get").then(function(t){e.setState({user:e.state.user,teams:t.teams})})}},{key:"save",value:function(){var e=this,t="addUser";this.state.user.id.length>0&&(t="editUser"),console.log(this.state.user),(0,f.default)(t,"post",this.state.user).then(function(t){t.success?e.props.router.push("/admin/userlist"):(alert(t.message),console.log(t))})}},{key:"change",value:function(e){var t=this.state.user;t[e.target.name]=e.target.value,this.setState({user:t,teams:this.state.teams})}},{key:"changeGroup",value:function(e){var t=this.state.user;t.team=e.target.value,this.setState({user:t,teams:this.state.teams})}},{key:"render",value:function(){return i("div",{className:p.default.container},void 0,b,i("table",{style:{width:"100%"}},void 0,i("tbody",{},void 0,i("tr",{},void 0,i("td",{className:p.default["td-right"]},void 0,"User Name:"),i("td",{className:p.default["td-left"]},void 0,i("input",{name:"name",onChange:this.change,value:this.state.user.name}))),i("tr",{},void 0,i("td",{className:p.default["td-right"]},void 0,"Phone Number:"),i("td",{className:p.default["td-left"]},void 0,i("input",{name:"phone",onChange:this.change,value:this.state.user.phone}))),i("tr",{},void 0,i("td",{className:p.default["td-right"]},void 0,"Email Address:"),i("td",{className:p.default["td-left"]},void 0,i("input",{name:"email",onChange:this.change,value:this.state.user.email}))),i("tr",{},void 0,i("td",{className:p.default["td-right"]},void 0,"Team:"),i("td",{className:p.default["td-left"]},void 0,i("select",{value:this.state.user.team,onChange:this.changeGroup},void 0,this.state.teams.map(function(e){return i("option",{value:e._id},e._id,e.name)})))))),i("div",{className:p.default["add-container"]},void 0,i("div",{className:p.default.add,onClick:this.save},void 0,"Save")))}}]),t}(d.Component);t.default=(0,l.withRouter)(_)},543:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get",n=arguments[2];return(0,s.default)(l+"/admin/"+e,{headers:{"content-type":"application/json"},method:t,body:JSON.stringify(n)}).then(function(e){return e.json().then(function(t){return{json:t,response:e}})}).then(function(e){var t=e.json;return e.response.ok?508===t.code?(d.browserHistory.push("/admin"),{code:0,success:!1,message:"Please login"}):t:Promise.reject(t)}).then(function(e){return e},function(e){return e})}Object.defineProperty(t,"__esModule",{value:!0}),t.API_URL=void 0,t.default=o;var r=n(180),s=a(r),i=n(181),u=a(i),d=n(79),l=t.API_URL="undefined"==typeof window?Object({NODE_ENV:"production"}).BASE_URL||"http://localhost:"+(Object({NODE_ENV:"production"}).PORT||u.default.port)+"/api":"/api"},573:function(e,t,n){"use strict";function a(e,t){return null===e||void 0===e?"":e.hasOwnProperty(t)?e[t]:""}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},706:function(e,t){e.exports={container:"_dohM_9JQYAFb0_7eX-4E","add-container":"_3a3XAoHCP8ZY14I9L8qfnJ",add:"MLuSOCU1bIDeiSXwztwko","td-left":"YsddFQm_318YZrJ7I0uGh","td-right":"YTEUAKCwlQDh4e0RJ25yu"}}});