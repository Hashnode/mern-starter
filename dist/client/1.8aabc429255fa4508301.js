webpackJsonp([1,2],{514:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return{teams:(0,_.getTeams)(e)}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var a=t&&t.defaultProps,i=arguments.length-3;if(n||0===i||(n={}),n&&a)for(var u in a)void 0===n[u]&&(n[u]=a[u]);else n||(n=a||{});if(1===i)n.children=r;else if(i>1){for(var l=Array(i),f=0;f<i;f++)l[f]=arguments[f+3];n.children=l}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),d=n(6),s=(o(d),n(10)),c=o(s),p=n(81),m=n(568),v=o(m),h=n(571),y=o(h),b=n(184),_=n(185),g=function(e){function t(){var e,n,o,i;r(this,t);for(var u=arguments.length,l=Array(u),f=0;f<u;f++)l[f]=arguments[f];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.handleDeleteTeam=function(e){confirm("Do you want to delete this team")&&o.props.dispatch((0,b.deleteTeamRequest)(e))},o.handleAddTeam=function(e){o.props.dispatch((0,b.addTeamRequest)({name:e}))},i=n,a(o,i)}return i(t,e),f(t,[{key:"componentDidMount",value:function(){this.props.dispatch((0,b.fetchTeams)())}},{key:"render",value:function(){return l("div",{},void 0,l(y.default,{addTeam:this.handleAddTeam}),l(v.default,{handleDeleteTeam:this.handleDeleteTeam,teams:this.props.teams}))}}]),t}(d.Component);g.need=[function(){return(0,b.fetchTeams)()}],g.contextTypes={router:c.default.object},t.default=(0,p.connect)(u)(g)},518:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var a=t&&t.defaultProps,i=arguments.length-3;if(n||0===i||(n={}),n&&a)for(var u in a)void 0===n[u]&&(n[u]=a[u]);else n||(n=a||{});if(1===i)n.children=r;else if(i>1){for(var l=Array(i),f=0;f<i;f++)l[f]=arguments[f+3];n.children=l}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),f=n(6),d=(o(f),n(79)),s=n(543),c=o(s),p=n(705),m=o(p),v=n(573),h=o(v),y=n(514),b=o(y),_=u("h2",{},void 0,"User List"),g=u("thead",{},void 0,u("tr",{},void 0,u("th",{},void 0,"Name"),u("th",{},void 0,"Phone"),u("th",{},void 0,"Email"),u("th",{},void 0,"Team"),u("th",{}),u("th",{}))),w=u("h2",{},void 0,"Team List"),O=u(b.default,{}),P=function(e){function t(){r(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={list:[]},e.add=e.add.bind(e),e.edit=e.edit.bind(e),e.delete=e.delete.bind(e),e}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;(0,c.default)("userList","post",{}).then(function(t){t.success&&(console.log(t.message),e.setState({list:t.message}))})}},{key:"add",value:function(){var e={id:"",name:"",email:"",phone:""};this.props.router.push({pathname:"/admin/adduser",state:{user:e}})}},{key:"edit",value:function(e){var t=this.state.list.find(function(t){return t.id===e.target.id});this.props.router.push({pathname:"/admin/adduser",state:{user:t}})}},{key:"delete",value:function(e){var t=this;if(confirm("Do you want to delete this user?")){var n=this.state.list.find(function(t){return t.id===e.target.id});(0,c.default)("deleteUser","post",n).then(function(e){if(!e.success)return void alert(e.message);t.componentDidMount()})}}},{key:"render",value:function(){var e=this;return u("div",{className:m.default.container},void 0,_,u("div",{className:m.default["add-container"]},void 0,u("div",{className:m.default.add,onClick:this.add},void 0,"Add")),u("table",{},void 0,g,u("tbody",{},void 0,this.state.list.map(function(t){return u("tr",{},t.id,u("td",{},void 0,t.name),u("td",{},void 0,t.phone),u("td",{},void 0,t.email),u("td",{},void 0,(0,h.default)(t.team,"name")),u("td",{},void 0,u("div",{className:m.default.operation,onClick:e.edit,id:t.id},void 0,"edit")),u("td",{},void 0,u("div",{className:m.default.operation,onClick:e.delete,id:t.id},void 0,"delete")))}))),w,O)}}]),t}(f.Component);t.default=(0,d.withRouter)(P)},543:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get",n=arguments[2];return(0,i.default)(d+"/admin/"+e,{headers:{"content-type":"application/json"},method:t,body:JSON.stringify(n)}).then(function(e){return e.json().then(function(t){return{json:t,response:e}})}).then(function(e){var t=e.json;return e.response.ok?508===t.code?(f.browserHistory.push("/admin"),{code:0,success:!1,message:"Please login"}):t:Promise.reject(t)}).then(function(e){return e},function(e){return e})}Object.defineProperty(t,"__esModule",{value:!0}),t.API_URL=void 0,t.default=r;var a=n(180),i=o(a),u=n(181),l=o(u),f=n(79),d=t.API_URL="undefined"==typeof window?Object({NODE_ENV:"production"}).BASE_URL||"http://localhost:"+(Object({NODE_ENV:"production"}).PORT||l.default.port)+"/api":"/api"},568:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){return a("div",{className:"listView"},void 0,e.teams.map(function(t){return a(f.default,{team:t,onDelete:function(){return e.handleDeleteTeam(t.cuid)}},t.cuid)}))}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var a=t&&t.defaultProps,i=arguments.length-3;if(n||0===i||(n={}),n&&a)for(var u in a)void 0===n[u]&&(n[u]=a[u]);else n||(n=a||{});if(1===i)n.children=r;else if(i>1){for(var l=Array(i),f=0;f<i;f++)l[f]=arguments[f+3];n.children=l}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),i=n(6),u=(o(i),n(10)),l=(o(u),n(569)),f=o(l);t.default=r},569:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){return a("div",{className:s.default["single-team"]},void 0,a("h3",{className:s.default["team-title"]},void 0,a(l.Link,{to:"/teams/"+e.team.name+"-"+e.team.cuid},void 0,e.team.name)),a("p",{className:s.default["team-name"]},void 0,c," ",e.team.name),a("p",{className:s.default["team-action"]},void 0,a("a",{href:"#",onClick:e.onDelete},void 0,p)),a("hr",{className:s.default.divider}))}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var a=t&&t.defaultProps,i=arguments.length-3;if(n||0===i||(n={}),n&&a)for(var u in a)void 0===n[u]&&(n[u]=a[u]);else n||(n=a||{});if(1===i)n.children=r;else if(i>1){for(var l=Array(i),f=0;f<i;f++)l[f]=arguments[f+3];n.children=l}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),i=n(6),u=(o(i),n(10)),l=(o(u),n(79)),f=n(80),d=n(570),s=o(d),c=a(f.FormattedMessage,{id:"teamName"}),p=a(f.FormattedMessage,{id:"deleteTeam"});t.default=r},570:function(e,t){e.exports={"single-team":"r6k01QoGMV9VfIyCgfTgw","team-title":"_2uLkNQXxBAo7L7GTd4MUly","team-name":"_2FTBn7U--r5OYC0pYYni35","team-action":"Pfw4c1NHBkBLyXexaHDl3",divider:"_2WxNOpWHedfgk6HokdQP8r","team-detail":"_3MY4yV87K76ND04p0ESMp1"}},571:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.TeamCreateWidget=void 0;var u=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,o,r){var a=t&&t.defaultProps,i=arguments.length-3;if(n||0===i||(n={}),n&&a)for(var u in a)void 0===n[u]&&(n[u]=a[u]);else n||(n=a||{});if(1===i)n.children=r;else if(i>1){for(var l=Array(i),f=0;f<i;f++)l[f]=arguments[f+3];n.children=l}return{$$typeof:e,type:t,key:void 0===o?null:""+o,ref:null,props:n,_owner:null}}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),f=n(6),d=o(f),s=n(10),c=(o(s),n(80)),p=n(572),m=o(p),v=u(c.FormattedMessage,{id:"createNewTeam"}),h=u(c.FormattedMessage,{id:"submit"}),y=t.TeamCreateWidget=function(e){function t(){var e,n,o,i;r(this,t);for(var u=arguments.length,l=Array(u),f=0;f<u;f++)l[f]=arguments[f];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.addTeam=function(){var e=o.refs.name;e.value&&(o.props.addTeam(e.value),e.value="")},i=n,a(o,i)}return i(t,e),l(t,[{key:"render",value:function(){var e=m.default.form+" "+m.default.appear;return u("div",{className:e},void 0,u("div",{className:m.default["form-content"]},void 0,u("h2",{className:m.default["form-title"]},void 0,v),d.default.createElement("input",{placeholder:this.props.intl.messages.teamName,className:m.default["form-field"],ref:"name"}),u("a",{className:m.default["team-submit-button"],href:"#",onClick:this.addTeam},void 0,h)))}}]),t}(f.Component);t.default=(0,c.injectIntl)(y)},572:function(e,t){e.exports={form:"_2Nd0GW5i_C9PaC-Ofv9d9Y","form-content":"ReZplmLLgdmgu0pwHgISg","form-title":"_1VGCTBwR5W7g4vcfBtbgqZ","form-field":"_2Wq-c_enTE5fOGVy3QkFRr","team-submit-button":"_17demp-I_I7QPcANi19eNI",appear:"_27VL-H97UKGT2OWbWINhPP"}},573:function(e,t,n){"use strict";function o(e,t){return null===e||void 0===e?"":e.hasOwnProperty(t)?e[t]:""}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o},705:function(e,t){e.exports={container:"_35w1NEogoceJSuChYZqBEC","add-container":"mNaafnr3q4rSHuEqh1lFc",add:"_3fx-TvGbICInoSOADy7VTQ",operation:"_3BdCxL7MFZWRII9S9YZmMm"}}});